<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>API Request Example</title>
    <style>
        .lanch{
            background-color: #007eff;
            margin: 5px;
            color: white;
            padding: 7px;
        }
    </style>
    <script>
    function apt(tin,wm){
	    return '&' + tin + '=' + wm;
    }
    function apd(act){
	var yon = 'http://tinywebdb.appinventor.space/api?user=name317&secret=53c40c78&action=' + act;
	return yon;
    }
    function pt(o,...args){
	var xhr = new XMLHttpRequest();
        var url = '';
	if (o === 'count'){
		url = apd(o);
	}
	else if (o === 'get'){
		url = apd(o) + apt('tag',args[0]);
	}
	xhr.open("GET", url, false); 
	xhr.send();
	if (xhr.status === 200) {
	    return(xhr.responseText);
	} else {
	    return(xhr.statusText);
	}
   };
    </script>
</head>
<body>
    <div class = "lanch">
    <button onclick = "document.write(pt('count'))">查询</button>
    </div>
</body>
</html>
